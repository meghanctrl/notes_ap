{% extends "base.html" %}

{% block title %}All Notes{% endblock %}

{% block content %}
  <section class="card">
    <h2>Create Note</h2>
    {% if error %}
      <p class="error">{{ error }}</p>
    {% endif %}
    <form method="post" action="{{ url_for('create_note') }}">
      <label for="title">Title</label>
      <input
        id="title"
        name="title"
        type="text"
        value="{{ form_data.get('title', '') }}"
        required
      >

      <label for="content">Content</label>
      <textarea id="content" name="content" rows="4">{{ form_data.get('content', '') }}</textarea>

      <button type="submit">Create</button>
    </form>
  </section>

  <section class="card">
    <h2>Notes</h2>
    {% if notes %}
      <ul class="notes">
        {% for note in notes %}
          <li>
            <h3>{{ note["title"] }}</h3>
            <p>{{ note["content"] }}</p>
            <div class="actions">
              <a href="{{ url_for('edit_note', note_id=note['id']) }}">Edit</a>
              <form method="post" action="{{ url_for('delete_note', note_id=note['id']) }}">
                <button type="submit">Delete</button>
              </form>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No notes yet.</p>
    {% endif %}
  </section>
{% endblock %}
